"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5633],{5895:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>u});var i=t(4848),o=t(8453);t(1470),t(9365);const r={sidebar_position:11,id:"running-optimism-node"},s="Running an Optimism Node with Sedge",a={id:"quickstart/running-optimism-node",title:"Running an Optimism Node with Sedge",description:"What is Optimism?",source:"@site/docs/quickstart/optimism.mdx",sourceDirName:"quickstart",slug:"/quickstart/running-optimism-node",permalink:"/docs/quickstart/running-optimism-node",draft:!1,unlisted:!1,editUrl:"https://github.com/NethermindEth/sedge/tree/main/docs/docs/quickstart/optimism.mdx",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11,id:"running-optimism-node"},sidebar:"tutorialSidebar",previous:{title:"Lido Exporter",permalink:"/docs/quickstart/lido-exporter"},next:{title:"Commands",permalink:"/docs/commands"}},l={},u=[{value:"What is Optimism?",id:"what-is-optimism",level:2},{value:"Workflow breakdown",id:"workflow-breakdown",level:2},{value:"Using Sedge for Optimism",id:"using-sedge-for-optimism",level:2},{value:"Generating Node Configuration",id:"generating-node-configuration",level:3},{value:"Running the Node",id:"running-the-node",level:3},{value:"Monitoring and Maintenance",id:"monitoring-and-maintenance",level:3},{value:"Base Support",id:"base-support",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"running-an-optimism-node-with-sedge",children:"Running an Optimism Node with Sedge"})}),"\n",(0,i.jsx)(n.h2,{id:"what-is-optimism",children:"What is Optimism?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.optimism.io/",children:"Optimism"})," is a Layer 2 scaling solution for Ethereum that uses optimistic rollups to achieve faster and cheaper transactions while maintaining Ethereum's security. Running an Optimism node allows you to interact with the Optimism network directly, validate transactions, and contribute to the network's decentralization."]}),"\n",(0,i.jsx)(n.p,{children:"Sedge supports setting up and running Optimism nodes, making it easier for users to participate in the Optimism ecosystem. This guide will walk you through the process of setting up an Optimism node using Sedge."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Running an Optimism node requires significant computational resources and a stable internet connection. Make sure your system meets the ",(0,i.jsx)(n.a,{href:"https://docs.optimism.io/builders/node-operators/tutorials/mainnet#hardware-requirements",children:"minimum requirements"})," before proceeding."]})}),"\n",(0,i.jsx)(n.h2,{id:"workflow-breakdown",children:"Workflow breakdown"}),"\n",(0,i.jsx)(n.p,{children:"Setting up an Optimism node with Sedge involves several steps:"}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Generate Node Configuration"}),": Use Sedge to generate the necessary configuration files for your Optimism node."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Run the Node"}),": Start your Optimism node using the generated configuration."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitor and Maintain"}),": Keep your node running smoothly and up to date."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Let's dive into each step in detail."}),"\n",(0,i.jsx)(n.h2,{id:"using-sedge-for-optimism",children:"Using Sedge for Optimism"}),"\n",(0,i.jsx)(n.h3,{id:"generating-node-configuration",children:"Generating Node Configuration"}),"\n",(0,i.jsx)(n.p,{children:"To generate the configuration for your Optimism node, use the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sedge generate op-full-node --network mainnet\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Supported Execution Clients"}),":"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"op-nethermind"}),"\n",(0,i.jsx)(n.li,{children:"op-geth"}),"\n",(0,i.jsx)(n.li,{children:"op-reth"}),"\n"]}),(0,i.jsxs)(n.p,{children:["You can set the execution client using the ",(0,i.jsx)(n.code,{children:"--op-execution"})," flag. If you don't specify an execution client, Sedge will chose one randomly."]}),(0,i.jsxs)(n.p,{children:["Alternatively, you can set the docker image for the execution client using the ",(0,i.jsx)(n.code,{children:"--op-execution '<CLIENT>:<DOCKER_IMAGE>'"})," syntax."]})]}),"\n",(0,i.jsxs)(n.p,{children:["This command will create a new directory with all the necessary configuration files for running an Optimism node on the mainnet. If you want to run a node on the testnet (Sepolia), use ",(0,i.jsx)(n.code,{children:"--network sepolia"})," instead."]}),"\n",(0,i.jsxs)(n.p,{children:["At this time, we are using Nethermind as the execution Optimism node, in the future we will add support for ",(0,i.jsx)(n.code,{children:"op-geth"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["When you use ",(0,i.jsx)(n.code,{children:"sedge generate op-full-node"}),", Sedge will generate a ",(0,i.jsx)(n.code,{children:"docker-compose.yml"})," script and a ",(0,i.jsx)(n.code,{children:".env"})," file with the necessary configuration for your Optimism node."]}),(0,i.jsx)(n.p,{children:"That config will include the execution client, the consensus client, and the execution and consensus Optimism client."})]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Setting ",(0,i.jsx)(n.code,{children:"--execution-api-url"})," flag, will only generate execution and consensus Optimism nodes, and the stack will point to that execution node."]}),(0,i.jsx)(n.p,{children:"This is useful if you already have an endpoint for the execution node. It will save synchronization time."}),(0,i.jsxs)(n.p,{children:["For example you can set: ",(0,i.jsx)(n.code,{children:"sedge generate op-full-node --execution-api-url http://execution:port -n sepolia --op-execution op-nethermind --consensus-url http://consensus:port"})]})]}),"\n",(0,i.jsx)(n.h3,{id:"running-the-node",children:"Running the Node"}),"\n",(0,i.jsx)(n.p,{children:"Once the configuration is generated, you can start your Optimism node using:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sedge run\n"})}),"\n",(0,i.jsx)(n.p,{children:"This command will start all the necessary components of your Optimism node, including the execution client and the optimism client."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"The first time you run your node, it will need to sync with the network, which can take several hours or even days depending on your hardware and network connection."})}),"\n",(0,i.jsx)(n.h3,{id:"monitoring-and-maintenance",children:"Monitoring and Maintenance"}),"\n",(0,i.jsx)(n.p,{children:"After your Optimism node is up and running, you should monitor its performance and ensure it stays in sync with the network. Regularly check for updates to the Optimism client and other components to keep your node secure and up to date."}),"\n",(0,i.jsx)(n.p,{children:"By following these steps, you can set up and run an Optimism node using Sedge, contributing to the growth and decentralization of the Optimism network."}),"\n",(0,i.jsx)(n.h2,{id:"base-support",children:"Base Support"}),"\n",(0,i.jsx)(n.p,{children:"Sedge also support Base, an Ethereum Layer 2 (L2) chain that offers a safe, low-cost, developer-friendly way to build on-chain. Base is an L2 built on OP Stack in collaboration with Optimism."}),"\n",(0,i.jsxs)(n.p,{children:["The only difference between setting up an Optimism node and a Base node is the ",(0,i.jsx)(n.code,{children:"--base"})," flag. To generate a Base node configuration, use the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sedge generate op-full-node --base\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var i=t(8215);const o={tabItem:"tabItem_Ymn6"};var r=t(4848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(o.tabItem,s),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(6540),o=t(8215),r=t(3104),s=t(6347),a=t(205),l=t(7485),u=t(1682),c=t(679);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:o}}=e;return{value:n,label:t,attributes:i,default:o}}))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const o=(0,s.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(o.location.search);n.set(r,e),o.replace({...o.location,search:n.toString()})}),[r,o])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,r=h(e),[s,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:r}))),[u,d]=m({queryString:t,groupId:o}),[g,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,r]=(0,c.Dv)(t);return[o,(0,i.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:o}),x=(()=>{const e=u??g;return p({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)}),[d,f,r]),tabValues:r}}var f=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function w(e){let{className:n,block:t,selectedValue:i,selectValue:s,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,r.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),o=a[t].value;o!==i&&(u(n),s(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:d,onClick:c,...r,className:(0,o.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:r}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function j(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,o.A)("tabs-container",x.tabList),children:[(0,b.jsx)(w,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function v(e){const n=(0,f.A)();return(0,b.jsx)(j,{...e,children:d(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);