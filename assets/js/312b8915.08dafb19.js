"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3384],{2651:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var s=t(4848),n=t(8453);const r={slug:"troubleshooting"},i="Troubleshooting",d={id:"troubleshoot",title:"Troubleshooting",description:"Docker Compose not found after Sedge installs it",source:"@site/docs/troubleshoot.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/docs/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/NethermindEth/sedge/tree/main/docs/docs/troubleshoot.md",tags:[],version:"current",frontMatter:{slug:"troubleshooting"},sidebar:"tutorialSidebar",previous:{title:"Adding new Clients",permalink:"/docs/guidelines/new-clients"}},c={},a=[{value:"Docker Compose not found after Sedge installs it",id:"docker-compose-not-found-after-sedge-installs-it",level:3},{value:"Prysm doesn&#39;t find a wallet datadir and throws an error",id:"prysm-doesnt-find-a-wallet-datadir-and-throws-an-error",level:3},{value:"Permissions issues",id:"permissions-issues",level:3}];function l(e){const o={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,s.jsx)(o.h3,{id:"docker-compose-not-found-after-sedge-installs-it",children:"Docker Compose not found after Sedge installs it"}),"\n",(0,s.jsx)(o.p,{children:"If you see a log similar to this just before Sedge is going to interact with the docker-compose script:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"2022-XX-XX 00:00:00 -- [ERRO] it seems docker compose plugin is not installed. Please install it and try again.\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Then probably is because the ",(0,s.jsx)(o.code,{children:"compose"})," plugin is not installed for the ",(0,s.jsx)(o.code,{children:"root"})," user. Currently Sedge uses ",(0,s.jsx)(o.code,{children:"sudo"})," (root /\nadmin powers) to run ",(0,s.jsx)(o.code,{children:"docker compose"})," commands. We are working on this issue. To solve it, you can copy the ",(0,s.jsx)(o.code,{children:"compose"}),"\nplugin from your Home directory to ",(0,s.jsx)(o.code,{children:"/root/"})," (root's Home directory) with the following command:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"sudo cp ~/.docker/cli-plugins/docker-compose /root/.docker/cli-plugins/\n"})}),"\n",(0,s.jsx)(o.h3,{id:"prysm-doesnt-find-a-wallet-datadir-and-throws-an-error",children:"Prysm doesn't find a wallet datadir and throws an error"}),"\n",(0,s.jsx)(o.p,{children:"If Prysm throws an error that indicates that can't find a wallet datadir, that means that the wallet was not created\ncorrectly."}),"\n",(0,s.jsxs)(o.p,{children:["To solve this, you should run ",(0,s.jsx)(o.code,{children:"sedge import-key"})," with the flag ",(0,s.jsx)(o.code,{children:"--start-validator"})," to start the validator client after\nimport, regardless of the state the validator was in before."]}),"\n",(0,s.jsx)(o.p,{children:"This will create the wallet datadir and the validator will start correctly."}),"\n",(0,s.jsx)(o.h3,{id:"permissions-issues",children:"Permissions issues"}),"\n",(0,s.jsx)(o.p,{children:"If you found a permission issue while installing some dependencies, and you got an error like this:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"docker.service - Docker Application Container Engine\n     Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)\n     Active: activating (auto-restart) (Result: exit-code) since Wed 2023-03-22 00:52:34 UTC; 6ms ago\nTriggeredBy: \u25cf docker.socket\n       Docs: https://docs.docker.com\n    Process: 1720819 ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock (code=exited, status=1/FAILURE)\n   Main PID: 1720819 (code=exited, status=1/FAILURE)\n\nXXX 00 00:00:00 localhost systemd[1]: docker.service: Failed with result 'exit-code'.\nXXX 00 00:00:00 localhost systemd[1]: Failed to start Docker Application Container Engine.\ndpkg: error processing package docker-ce (--configure):\n installed docker-ce package post-installation script subprocess returned error exit status 1\n"})}),"\n",(0,s.jsx)(o.p,{children:"or"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock\n"})}),"\n",(0,s.jsx)(o.p,{children:"You can run the command using sudo, something like:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"sudo sedge deps install\n"})})]})}function h(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>i,x:()=>d});var s=t(6540);const n={},r=s.createContext(n);function i(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);